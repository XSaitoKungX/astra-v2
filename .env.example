# ╔═══════════════════════════════════════════════════════════════════════════╗
# ║                         ASTRA BOT - CONFIGURATION                         ║
# ║                              Example Template                             ║
# ╚═══════════════════════════════════════════════════════════════════════════╝
#
# Copy this file to .env and fill in your values:
# cp .env.example .env
#
# IMPORTANT: Never commit .env to version control!

# ═══════════════════════════════════════════════════════════════════════════
# 1. CORE APPLICATION
# ═══════════════════════════════════════════════════════════════════════════

# ┌─────────────────────────────── Runtime ───────────────────────────────────┐
NODE_ENV=development                    # production | development
RUN_MODE=all                            # all | bot | api

# ┌──────────────────────────── Bot Information ──────────────────────────────┐
BOT_NAME=Astra
BOT_VERSION=1.0.0
BOT_PREFIX=/
BOT_OWNER_ID=your_discord_user_id
ADMIN_IDS=your_discord_user_id          # Comma-separated Discord IDs

# ┌────────────────────────────── License Key ────────────────────────────────┐
# Purchase at: https://store.novaplex.xyz
LICENSE_API_URL=https://license.novaplex.xyz
LICENSE_KEY=your_license_key

# ═══════════════════════════════════════════════════════════════════════════
# 2. DISCORD CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════

# ┌──────────────────────────── Bot Credentials ──────────────────────────────┐
# Get from: https://discord.com/developers/applications
DISCORD_TOKEN=your_discord_bot_token
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret

# ┌─────────────────────────── Command Deployment ────────────────────────────┐
# Dev Guild ID for instant command deployment (leave empty for global)
# Note: Global commands take up to 1 hour to propagate
DISCORD_GUILD_ID=

# ┌──────────────────────────── Support Server ───────────────────────────────┐
DISCORD_INVITE_CODE=your_invite_code
DISCORD_SUPPORT_URL=https://discord.gg/your_invite_code

# ┌────────────────────────────── Bot Invite ─────────────────────────────────┐
BOT_INVITE_URL=https://discord.com/oauth2/authorize?client_id=[YOUR_CLIENT_ID]

# ═══════════════════════════════════════════════════════════════════════════
# 3. DATABASE & CACHE
# ═══════════════════════════════════════════════════════════════════════════

# ┌───────────────────────────── PostgreSQL ──────────────────────────────────┐
# Primary database with Prisma ORM
# 
# Local:    postgresql://postgres:password@localhost:5432/astra_bot
# Supabase: postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres
# Neon:     postgresql://[USER]:[PASSWORD]@[HOST]/[DATABASE]?sslmode=require
DATABASE_URL=postgresql://postgres:password@localhost:5432/astra_bot?schema=public

# ┌──────────────────────────────── Redis ────────────────────────────────────┐
# Cache, sessions, cooldowns, rate limiting
#
# Local:   redis://localhost:6379
# Upstash: redis://default:[PASSWORD]@[HOST]:6379
REDIS_URL=redis://localhost:6379

# ┌─────────────────────────── Database Options ──────────────────────────────┐
AUTO_MIGRATE=false                      # Auto-run Prisma migrations on startup

# ═══════════════════════════════════════════════════════════════════════════
# 4. WEB SERVER & API
# ═══════════════════════════════════════════════════════════════════════════

# ┌────────────────────────────── Server ─────────────────────────────────────┐
IP=0.0.0.0
PORT=3000
API_PORT=3000
TRUST_PROXY=true                        # Set true behind Nginx/Cloudflare

# ┌──────────────────────────────── URLs ─────────────────────────────────────┐
# Main domain: astra-bot.app | Fallback: astra.novaplex.xyz
DASHBOARD_URL=https://astra-bot.app
WEBSITE_URL=https://astra-bot.app
DOCS_URL=https://astra-bot.app/docs
OAUTH_CALLBACK_URL=https://astra-bot.app/api/auth/discord/callback
DASHBOARD_BANNER_URL=https://astra-bot.app/astra-banner.png

# ┌───────────────────────────── Security ────────────────────────────────────┐
# IMPORTANT: Generate random strings for production!
# Use: openssl rand -base64 32
SESSION_SECRET=your_session_secret_min_32_chars
API_SECRET=your_api_secret_min_32_chars

# ┌─────────────────────────── Cloudflare Turnstile ──────────────────────────┐
# Bot protection for web verification
# Dashboard: https://dash.cloudflare.com/
TURNSTILE_SITE_KEY=your_turnstile_site_key
TURNSTILE_SECRET_KEY=your_turnstile_secret_key
VITE_TURNSTILE_SITE_KEY=your_turnstile_site_key

# ═══════════════════════════════════════════════════════════════════════════
# 5. LOGGING
# ═══════════════════════════════════════════════════════════════════════════

LOG_LEVEL=info                          # File: error | warn | info | debug
LOG_CONSOLE_LEVEL=warn                  # Console: error | warn | info | debug
LOG_SHOW_STARTUP=true                   # Show startup banner

# ═══════════════════════════════════════════════════════════════════════════
# 6. MUSIC SYSTEM (Optional)
# ═══════════════════════════════════════════════════════════════════════════

# ┌────────────────────────────── Lavalink ───────────────────────────────────┐
# Required for music commands
LAVALINK_HOST=your-lavalink-server.com
LAVALINK_PORT=443                       # 443 for SSL, 2333 for non-SSL
LAVALINK_PASSWORD=your_lavalink_password
LAVALINK_SECURE=true                    # true for wss://, false for ws://

# ┌─────────────────────────────── Spotify ───────────────────────────────────┐
# Optional - for Spotify URL support
# Get from: https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret

# ═══════════════════════════════════════════════════════════════════════════
# 7. AI PROVIDERS
# ═══════════════════════════════════════════════════════════════════════════

# ┌──────────────────────── FREE AI PROVIDERS ────────────────────────────────┐
# Recommended for development and small-scale production

# Groq - FASTEST free AI (Llama 3.3 70B, Mixtral, Gemma)
# Console: https://console.groq.com/keys
# Limits: 14,400 requests/day (free)
GROQ_API_KEY=your_groq_api_key

# Together AI - Many open-source models (Llama, Qwen, Mistral)
# Console: https://api.together.xyz/settings/api-keys
# Limits: $5 free credits
TOGETHER_API_KEY=your_together_api_key

# OpenRouter - Gateway to many models (has free models)
# Console: https://openrouter.ai/keys
# Free models: Llama 3.2, Gemma 2, Mistral 7B
OPENROUTER_API_KEY=your_openrouter_api_key

# Mistral AI - French AI company (Mistral, Mixtral)
# Console: https://console.mistral.ai/api-keys
# Limits: Free tier available
MISTRAL_API_KEY=your_mistral_api_key

# ┌──────────────────────── PAID AI PROVIDERS ────────────────────────────────┐
# Optional - require payment

# OpenAI - ChatGPT (GPT-4o, GPT-4 Turbo, GPT-3.5)
# Console: https://platform.openai.com/api-keys
# Pricing: https://openai.com/pricing
# OPENAI_API_KEY=your_openai_api_key

# Anthropic - Claude (Claude 3.5 Sonnet, Claude 3 Opus)
# Console: https://console.anthropic.com/settings/keys
# Pricing: https://www.anthropic.com/pricing
# ANTHROPIC_API_KEY=your_anthropic_api_key

# Google AI - Gemini (Gemini Pro, Gemini Ultra)
# Console: https://aistudio.google.com/apikey
# Pricing: https://ai.google.dev/pricing (has free tier)
# GOOGLE_AI_API_KEY=your_google_ai_api_key

# Cohere - Command models (Command R+, Embed)
# Console: https://dashboard.cohere.com/api-keys
# Pricing: https://cohere.com/pricing
# COHERE_API_KEY=your_cohere_api_key

# Perplexity - Search-augmented AI
# Console: https://www.perplexity.ai/settings/api
# Pricing: https://docs.perplexity.ai/guides/pricing
# PERPLEXITY_API_KEY=your_perplexity_api_key

# DeepSeek - Chinese AI (DeepSeek V3, R1, Coder)
# Console: https://platform.deepseek.com/api_keys
# Pricing: Very affordable (~$0.14/M tokens)
# DEEPSEEK_API_KEY=your_deepseek_api_key

# xAI - Grok (Elon Musk's AI with real-time X data)
# Console: https://console.x.ai/
# Pricing: https://docs.x.ai/docs/pricing
# XAI_API_KEY=your_xai_api_key

# ═══════════════════════════════════════════════════════════════════════════
# 8. BOT LIST INTEGRATIONS (Optional)
# ═══════════════════════════════════════════════════════════════════════════

# ┌────────────────────────────── Top.gg ─────────────────────────────────────┐
# Most popular bot list
# Dashboard: https://top.gg/bot/YOUR_BOT_ID/webhooks
TOPGG_URL=https://top.gg/bot/YOUR_BOT_ID
TOPGG_TOKEN=your_topgg_token
TOPGG_WEBHOOK_SECRET=your_topgg_webhook_secret

# ┌──────────────────────── Discord Bot List ─────────────────────────────────┐
# Dashboard: https://discordbotlist.com/bots/YOUR_BOT_ID/edit
DBL_WEBHOOK_SECRET=your_dbl_webhook_secret

# ┌────────────────────────────── Discords.com ───────────────────────────────┐
# Dashboard: https://discords.com/bots/bot/YOUR_BOT_ID/edit
DISCORDS_WEBHOOK_SECRET=your_discords_webhook_secret

# ┌──────────────────────────── Botlist.me ───────────────────────────────────┐
# Dashboard: https://botlist.me/bots/YOUR_BOT_ID/edit
BOTLISTME_WEBHOOK_SECRET=your_botlistme_webhook_secret

# ┌─────────────────────── Bots on Discord ────────────────────────────────────┐
# Dashboard: https://bots.ondiscord.xyz/bots/YOUR_BOT_ID/edit
BOD_WEBHOOK_SECRET=your_bod_webhook_secret

# ┌──────────────────────────── DiscordPlace ─────────────────────────────────┐
# French bot list with auto-sync
# Dashboard: https://discordplace.com/dashboard/api-keys
DISCORDPLACE_API_KEY=your_discordplace_api_key

# ┌──────────────────────── DiscordPlace Sync ────────────────────────────────┐
DISCORDPLACE_SYNC_INTERVAL=300000       # Sync interval in ms (default: 5 min)

# Note: discord.bots.gg and discordlist.gg don't support webhooks

# ═══════════════════════════════════════════════════════════════════════════
# 9. SOCIAL MEDIA INTEGRATIONS (Optional)
# ═══════════════════════════════════════════════════════════════════════════
# Per-guild social feed notifications (Twitch live, YouTube uploads, Twitter/X posts)

# ┌────────────────────────────── Twitch ───────────────────────────────────┐
# Helix API — https://dev.twitch.tv/console/apps
TWITCH_CLIENT_ID=your_twitch_client_id
TWITCH_CLIENT_SECRET=your_twitch_client_secret

# ┌────────────────────────────── YouTube ──────────────────────────────────┐
# Data API v3 — https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your_youtube_api_key

# ┌──────────────────────────── Twitter/X ──────────────────────────────────┐
# API v2 Bearer Token — https://developer.twitter.com/en/portal/dashboard
TWITTER_BEARER_TOKEN=your_twitter_bearer_token

# ┌───────────────────────── Feed Check Interval ───────────────────────────┐
SOCIAL_FEED_INTERVAL=120000             # Check interval in ms (default: 2 min)

# ═══════════════════════════════════════════════════════════════════════════
# 10. NOTIFICATIONS (Optional)
# ═══════════════════════════════════════════════════════════════════════════

# ┌──────────────────────── VAPID Push Notifications ───────────────────────┐
# Generate keys: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:your-email@example.com

# ┌──────────────────────────── SMTP Email ─────────────────────────────────┐
# Any SMTP provider (Gmail, SendGrid, Mailgun, etc.)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false                       # true for port 465
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
SMTP_FROM="Astra Bot <noreply@your-domain.com>"

# ═══════════════════════════════════════════════════════════════════════════
# 11. SOCIAL LINKS (Optional)
# ═══════════════════════════════════════════════════════════════════════════

TWITTER_URL=
YOUTUBE_URL=
PATREON_URL=
KOFI_URL=

# ┌───────────────────────────── GitHub ──────────────────────────────────────┐
GITHUB_URL=https://github.com/your-username/your-repo
GITHUB_REPO=your-username/your-repo

# ═══════════════════════════════════════════════════════════════════════════
# 12. DEPLOYMENT (Optional)
# ═══════════════════════════════════════════════════════════════════════════

# Dashboard deployment configuration (used by scripts/deploy-dashboard.sh)
DEPLOY_REMOTE_USER=root
DEPLOY_REMOTE_HOST=your_server_ip
DEPLOY_REMOTE_PATH=/your/path/here
